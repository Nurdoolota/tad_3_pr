schema: '2.0'
stages:
  sample_data:
    cmd: python src/sample_data.py data/sampled_train.csv
    deps:
    - path: data/raw/fashion-mnist_train.csv
      hash: md5
      md5: 976229da8a00a3ccf41b8009e4e48d77
      size: 133047193
    - path: src/sample_data.py
      hash: md5
      md5: c5d01044b09d39bb1c84ccf4a1ccd6b2
      size: 955
    params:
      params.yaml:
        sample_size: 5000
    outs:
    - path: data/sampled_train.csv
      hash: md5
      md5: 2465d36076567e411d93056dce0e3c1d
      size: 11110040
  train_models:
    cmd: python src/train_models.py data/sampled_train.csv
    deps:
    - path: data/sampled_train.csv
      hash: md5
      md5: 2465d36076567e411d93056dce0e3c1d
      size: 11110040
    - path: src/train_models.py
      hash: md5
      md5: cf12050849b11d79871c62e2632c7de2
      size: 1413
    params:
      params.yaml:
        logistic_regression:
          C: 1.0
        naive_bayes:
          var_smoothing: 9e-10
        random_forest:
          n_estimators: 50
          max_depth: 10
    outs:
    - path: models
      hash: md5
      md5: 7c28c64bb949866bbb101007eafe49da.dir
      size: 4187943
      nfiles: 3
  evaluate_models:
    cmd: python src/evaluate_models.py metrics/eval.json
    deps:
    - path: data/raw/fashion-mnist_test.csv
      hash: md5
      md5: 64ec16a6b73b3514634d529a71dd8306
      size: 22176691
    - path: models
      hash: md5
      md5: 7c28c64bb949866bbb101007eafe49da.dir
      size: 4187943
      nfiles: 3
    - path: src/evaluate_models.py
      hash: md5
      md5: a9336a7c13edef8c9818d3763ed1de23
      size: 1666
    outs:
    - path: metrics/eval.json
      hash: md5
      md5: 3b3709ca5176347863efb57bffac7f13
      size: 497
  augment_data:
    cmd: python src/augment_data.py data/augmented_only_train.csv
    deps:
    - path: data/sampled_train.csv
      hash: md5
      md5: 2465d36076567e411d93056dce0e3c1d
      size: 11110040
    - path: src/augment_data.py
      hash: md5
      md5: b8ec419ac867ceb0554db94ef1119a57
      size: 2830
    outs:
    - path: data/augmented_only_train.csv
      hash: md5
      md5: 2df51ce49b586aa864f47975620edd49
      size: 47112355
